var RAGApp=(()=>{var{useState:Fe,useEffect:Ie,useRef:Ge,forwardRef:Ue}=React,we={database:"M3 3h18v18H3z M3 9h18 M3 15h18 M21 3v18 M3 3v18","building-2":"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2 M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2 M10 6h4 M10 10h4 M10 14h4 M10 18h4","chevron-down":"m6 9 6 6 6-6","chevron-left":"m15 18-6-6 6-6","chevron-right":"m9 18 6-6-6-6",check:"M20 6 9 17l-5-5","refresh-cw":"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8 M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16 M21 3v5h-5 M3 21v-5h5",search:"M19 19l-4-4m0-7A7 7 0 1 1 4 8a7 7 0 0 1 11 0z",upload:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4 M17 8l-5-5-5 5 M12 3v12","upload-cloud":"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242 M12 12v9 M8 17l4-4 4 4","file-text":"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z M14 2v6h6 M16 13H8 M16 17H8 M10 9H8","folder-plus":"M12 10v6 M9 13h6 M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",eye:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z",download:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4 M7 10l5 5 5-5 M12 15V3","trash-2":"M3 6h18 M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6 M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2 M10 11v6 M14 11v6","alert-circle":"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M12 8v4 M12 16h.01","alert-triangle":"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z M12 9v4 M12 17h.01",x:"M18 6 6 18 M6 6l12 12","x-circle":"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M15 9l-6 6 M9 9l6 6","check-circle":"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M9 12l2 2 4-4",info:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M12 16v-4 M12 8h.01","search-x":"M19 19l-4-4 M13.5 8.5L10.5 11.5 M10.5 8.5l3 3 M5 11a6 6 0 1 0 12 0 6 6 0 0 0-12 0z",sparkles:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z M20 3v4 M22 5h-4 M4 17v2 M5 18H3",image:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z M8.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z M21 15l-5-5L5 21",file:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z M14 2v6h6",code:"m8 18 4-12h4 M8 6l-4 6 4 6 M16 6l4 6-4 6",braces:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5a2 2 0 0 0 2 2h1 M16 3h1a2 2 0 0 1 2 2v5a2 2 0 0 0 2 2 2 2 0 0 0-2 2v5a2 2 0 0 1-2 2h-1",table:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",inbox:"M22 12h-6l-2 3h-4l-2-3H2 M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",library:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20 M4 4.5A2.5 2.5 0 0 1 6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15z","user-x":"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2 M8.5 3a4 4 0 1 0 0 8 4 4 0 0 0 0-8z M18 8l5 5 M23 8l-5 5",folder:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",calendar:"M19 4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 0V2m-14 2V2m0 6h14",plus:"M12 5v14M5 12h14",settings:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z",user:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2 M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",grid:"M3 3h7v7H3z M14 3h7v7h-7z M14 14h7v7h-7z M3 14h7v7H3z",history:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8 M3 3v5h5 M12 7v5l4 2",clock:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M12 6v6l4 2",zap:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",text:"M17 6.1H3 M21 12.1H3 M15.1 18H3","bar-chart-3":"M3 3v18h18 M18 17V9 M13 17V5 M8 17v-3","bar-chart":"M12 20V10 M18 20V4 M6 20v-4",activity:"M22 12h-4l-3 9L9 3l-3 9H2"};function m({name:a,className:s="",size:e,...n}){let c=we[a];return c?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e||24,height:e||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,...n},React.createElement("path",{d:c})):(console.warn(`Icon "${a}" not found`),React.createElement("span",{className:s}))}function H({children:a,variant:s="default",size:e="default",disabled:n=!1,loading:c=!1,className:b="",onClick:l,...C}){let i="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90"},y={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-sm",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return React.createElement("button",{type:"button",className:`${i} ${r[s]} ${y[e]} ${b}`,disabled:n||c,onClick:l,...C},c&&React.createElement("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),a)}function W({type:a="text",className:s="",error:e=!1,...n}){return React.createElement("input",{type:a,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e?"border-destructive focus-visible:ring-destructive":""} ${s}`,...n})}function re({children:a,className:s="",...e}){return React.createElement("select",{className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${s}`,...e},a)}function K({children:a,className:s="",hover:e=!1,...n}){return React.createElement("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${e?"card-hover cursor-pointer":""} ${s}`,...n},a)}function ne({children:a,className:s="",...e}){return React.createElement("div",{className:`flex flex-col space-y-1.5 p-6 ${s}`,...e},a)}function oe({children:a,className:s="",...e}){return React.createElement("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${s}`,...e},a)}function le({children:a,className:s="",...e}){return React.createElement("p",{className:`text-sm text-muted-foreground ${s}`,...e},a)}function Z({children:a,className:s="",...e}){return React.createElement("div",{className:`p-6 pt-0 ${s}`,...e},a)}function V({children:a,variant:s="default",className:e="",...n}){return React.createElement("div",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors ${{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-accent",success:"bg-success text-success-foreground"}[s]} ${e}`,...n},a)}function ie({children:a,value:s,onValueChange:e,className:n=""}){return React.createElement("div",{className:`${n}`,"data-value":s},React.Children.map(a,c=>React.isValidElement(c)?React.cloneElement(c,{activeTab:s,onTabChange:e}):c))}function ce({children:a,className:s="",activeTab:e,onTabChange:n}){return React.createElement("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground ${s}`},React.Children.map(a,c=>React.isValidElement(c)?React.cloneElement(c,{activeTab:e,onTabChange:n}):c))}function O({children:a,value:s,className:e="",activeTab:n,onTabChange:c}){return React.createElement("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ${n===s?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground"} ${e}`,onClick:()=>c?.(s)},a)}function B({children:a,value:s,className:e="",activeTab:n}){return n!==s?null:React.createElement("div",{className:`mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 animate-fade-in ${e}`},a)}function ee({value:a=0,className:s="",showLabel:e=!1}){return React.createElement("div",{className:`relative ${s}`},React.createElement("div",{className:"h-2 w-full overflow-hidden rounded-full bg-secondary"},React.createElement("div",{className:"h-full bg-primary transition-all progress-bar",style:{width:`${Math.min(100,Math.max(0,a))}%`}})),e&&React.createElement("span",{className:"absolute right-0 top-3 text-xs text-muted-foreground"},Math.round(a),"%"))}function Q({children:a,variant:s="default",className:e="",...n}){return React.createElement("div",{role:"alert",className:`relative w-full rounded-lg border p-4 ${{default:"bg-background border",destructive:"border-destructive/50 text-destructive bg-destructive/10",success:"border-success/50 text-success bg-success/10",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50"}[s]} ${e}`,...n},a)}function J({children:a,className:s="",...e}){return React.createElement("h5",{className:`mb-1 font-medium leading-none tracking-tight ${s}`,...e},a)}function q({children:a,className:s="",...e}){return React.createElement("div",{className:`text-sm [&_p]:leading-relaxed ${s}`,...e},a)}function ke({message:a,type:s="info",onClose:e}){let n={info:"bg-background border",success:"bg-success/10 border-success/50 text-success",error:"bg-destructive/10 border-destructive/50 text-destructive",warning:"bg-yellow-50 border-yellow-500/50 text-yellow-700"},c={info:"info",success:"check-circle",error:"x-circle",warning:"alert-triangle"};return React.createElement("div",{className:`flex items-center gap-3 rounded-lg border p-4 shadow-lg toast-enter ${n[s]}`},React.createElement(m,{name:c[s],className:"h-5 w-5"}),React.createElement("span",{className:"text-sm font-medium"},a),React.createElement("button",{onClick:e,className:"ml-auto rounded-md p-1 hover:bg-muted"},React.createElement(m,{name:"x",className:"h-4 w-4"})))}function de({toasts:a,onRemove:s}){return React.createElement("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2"},a.map(e=>React.createElement(ke,{key:e.id,message:e.message,type:e.type,onClose:()=>s(e.id)})))}function X({icon:a="inbox",title:s,description:e,action:n}){return React.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},React.createElement("div",{className:"rounded-full bg-muted p-4 mb-4"},React.createElement(m,{name:a,className:"h-8 w-8 text-muted-foreground"})),React.createElement("h3",{className:"text-lg font-semibold"},s),e&&React.createElement("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm"},e),n&&React.createElement("div",{className:"mt-4"},n))}var{useState:te,useCallback:F,useRef:me}=React,Ce={"application/pdf":{icon:"file-text",label:"PDF"},"text/plain":{icon:"file-text",label:"TXT"},"text/markdown":{icon:"file-text",label:"MD"},"text/html":{icon:"code",label:"HTML"},"application/json":{icon:"braces",label:"JSON"},"text/csv":{icon:"table",label:"CSV"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:"file-text",label:"DOCX"},"application/msword":{icon:"file-text",label:"DOC"},"image/png":{icon:"image",label:"PNG"},"image/jpeg":{icon:"image",label:"JPG"},"image/gif":{icon:"image",label:"GIF"},"image/webp":{icon:"image",label:"WEBP"}},_e=10*1024*1024;function ue({onFilesSelected:a,onUpload:s,accept:e="*/*",multiple:n=!0,maxFiles:c=10,disabled:b=!1,uploading:l=!1,progress:C=0,className:i=""}){let[r,y]=te(!1),[u,w]=te([]),[N,t]=te([]),o=me(null),h=me(0),D=F(d=>{let $=[];d.size>_e&&$.push("File exceeds 10MB limit");let f=[".exe",".bat",".cmd",".com",".scr",".vbs",".js"],p=d.name.toLowerCase().slice(d.name.lastIndexOf("."));return f.includes(p)&&$.push("File type not allowed for security reasons"),$},[]),x=F(d=>{let $=[],f=[];if(Array.from(d).slice(0,c-u.length).forEach((p,A)=>{let P=D(p);if(P.length>0)f.push({name:p.name,errors:P});else{let I=p.type.startsWith("image/"),U={id:`${Date.now()}-${A}`,file:p,name:p.name,size:p.size,type:p.type,isImage:I,preview:I?URL.createObjectURL(p):null,typeInfo:Ce[p.type]||{icon:"file",label:"FILE"}};$.push(U)}}),$.length>0){let p=[...u,...$];w(p),a?.(p.map(A=>A.file))}f.length>0&&(t(f),setTimeout(()=>t([]),5e3))},[u,c,D,a]),j=F(d=>{d.preventDefault(),d.stopPropagation(),h.current++,d.dataTransfer.items&&d.dataTransfer.items.length>0&&y(!0)},[]),k=F(d=>{d.preventDefault(),d.stopPropagation(),h.current--,h.current===0&&y(!1)},[]),v=F(d=>{d.preventDefault(),d.stopPropagation()},[]),M=F(d=>{if(d.preventDefault(),d.stopPropagation(),y(!1),h.current=0,b)return;let $=d.dataTransfer.files;$.length>0&&x($)},[b,x]),_=F(d=>{let $=d.target.files;$.length>0&&x($),d.target.value=""},[x]),S=F(d=>{w($=>{let f=$.filter(A=>A.id!==d),p=$.find(A=>A.id===d);return p?.preview&&URL.revokeObjectURL(p.preview),a?.(f.map(A=>A.file)),f})},[a]),g=F(()=>{u.forEach(d=>{d.preview&&URL.revokeObjectURL(d.preview)}),w([]),a?.([])},[u,a]),z=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KB`:`${(d/(1024*1024)).toFixed(1)} MB`,E=F(()=>{u.length>0&&s&&s(u.map(d=>d.file))},[u,s]);return React.createElement("div",{className:`space-y-4 ${i}`},React.createElement("div",{className:`drop-zone relative rounded-lg p-8 text-center transition-all ${r?"dragover":""} ${b?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onDragEnter:j,onDragLeave:k,onDragOver:v,onDrop:M,onClick:()=>!b&&o.current?.click()},React.createElement("input",{ref:o,type:"file",accept:e,multiple:n,onChange:_,className:"hidden",disabled:b}),React.createElement("div",{className:"flex flex-col items-center gap-3"},React.createElement("div",{className:`rounded-full p-4 ${r?"bg-primary/10":"bg-muted"}`},React.createElement(m,{name:"upload-cloud",className:`h-8 w-8 ${r?"text-primary":"text-muted-foreground"}`})),React.createElement("div",null,React.createElement("p",{className:"text-sm font-medium"},r?"Drop files here":"Drag & drop files here"),React.createElement("p",{className:"text-xs text-muted-foreground mt-1"},"or click to browse (max ",c," files, 10MB each)")),React.createElement("div",{className:"flex flex-wrap gap-1 justify-center mt-2"},["PDF","TXT","MD","DOCX","JSON","CSV"].map(d=>React.createElement("span",{key:d,className:"text-xs px-2 py-0.5 bg-muted rounded-full text-muted-foreground"},d)),React.createElement("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full"},"Images (coming soon)")))),N.length>0&&React.createElement("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3"},React.createElement("div",{className:"flex items-start gap-2"},React.createElement(m,{name:"alert-circle",className:"h-4 w-4 text-destructive mt-0.5"}),React.createElement("div",{className:"text-sm"},N.map((d,$)=>React.createElement("p",{key:$,className:"text-destructive"},React.createElement("span",{className:"font-medium"},d.name,":")," ",d.errors.join(", ")))))),u.length>0&&React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-sm font-medium"},u.length," file",u.length>1?"s":""," selected"),React.createElement("button",{onClick:g,className:"text-xs text-muted-foreground hover:text-foreground",disabled:l},"Clear all")),React.createElement("div",{className:"grid gap-2"},u.map(d=>React.createElement("div",{key:d.id,className:"flex items-center gap-3 p-3 rounded-lg border bg-card"},d.isImage&&d.preview?React.createElement("img",{src:d.preview,alt:d.name,className:"h-10 w-10 rounded object-cover"}):React.createElement("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center"},React.createElement(m,{name:d.typeInfo.icon,className:"h-5 w-5 text-muted-foreground"})),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("p",{className:"text-sm font-medium truncate"},d.name),React.createElement("p",{className:"text-xs text-muted-foreground"},d.typeInfo.label," \u2022 ",z(d.size))),!l&&React.createElement("button",{onClick:$=>{$.stopPropagation(),S(d.id)},className:"p-1 rounded hover:bg-muted"},React.createElement(m,{name:"x",className:"h-4 w-4 text-muted-foreground"}))))),l&&React.createElement("div",{className:"space-y-2"},React.createElement("div",{className:"h-2 rounded-full bg-secondary overflow-hidden"},React.createElement("div",{className:"h-full bg-primary transition-all progress-bar",style:{width:`${C}%`}})),React.createElement("p",{className:"text-xs text-center text-muted-foreground"},"Uploading... ",C,"%")),!l&&s&&React.createElement("button",{onClick:E,disabled:u.length===0,className:"w-full h-10 px-4 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Upload ",u.length," file",u.length>1?"s":"")))}var{useState:Y,useCallback:Ve,useMemo:Qe}=React,Me=[{value:"",label:"All Categories"},{value:"brand_voice",label:"Brand Voice"},{value:"brand_guidelines",label:"Brand Guidelines"},{value:"content_pillars",label:"Content Pillars"},{value:"marketing_strategy",label:"Marketing Strategy"},{value:"product",label:"Product"},{value:"target_audience",label:"Target Audience"},{value:"past_campaign",label:"Past Campaign"},{value:"seasonal_themes",label:"Seasonal Themes"},{value:"general",label:"General"}];function ge({documents:a=[],loading:s=!1,error:e=null,pagination:n={page:1,limit:20,total:0},onPageChange:c,onDelete:b,onView:l,onExport:C,onRefresh:i,onRetry:r,onSwitchToUpload:y}){let[u,w]=Y(""),[N,t]=Y(""),[o,h]=Y(null),[D,x]=Y(!1),j=a.filter(g=>{let z=u.toLowerCase(),E=g.title?.toLowerCase().includes(z)||g.source_type?.toLowerCase().includes(z)||g.tags?.some($=>$.toLowerCase().includes(z)),d=!N||g.source_type===N;return E&&d}),k=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown",v=g=>g?g<1e3?`${g} chars`:`${(g/1e3).toFixed(1)}k chars`:"Unknown",M=g=>{let z={brand_guidelines:"bg-purple-100 text-purple-700",marketing_strategy:"bg-blue-100 text-blue-700",product_info:"bg-green-100 text-green-700",campaign_history:"bg-orange-100 text-orange-700",visual_asset:"bg-pink-100 text-pink-700",general:"bg-gray-100 text-gray-700"};return z[g]||z.general},_=async g=>{x(!0);try{await b?.(g.id),h(null)}finally{x(!1)}},S=Math.ceil(n.total/n.limit);return React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"flex items-center justify-between gap-4"},React.createElement("div",{className:"flex items-center gap-3 flex-1"},React.createElement("div",{className:"relative flex-1 max-w-sm"},React.createElement(m,{name:"search",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),React.createElement("input",{type:"text",placeholder:"Search documents...",value:u,onChange:g=>w(g.target.value),className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"})),React.createElement("select",{value:N,onChange:g=>t(g.target.value),className:"h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},Me.map(g=>React.createElement("option",{key:g.value,value:g.value},g.label)))),React.createElement("button",{onClick:i,disabled:s,className:"h-10 px-4 rounded-md border border-input bg-background hover:bg-accent transition-colors disabled:opacity-50"},React.createElement(m,{name:"refresh-cw",className:`h-4 w-4 ${s?"animate-spin":""}`}))),React.createElement("div",{className:"flex items-center gap-4 text-sm text-muted-foreground"},React.createElement("span",null,n.total," documents"),React.createElement("span",null,"\u2022"),React.createElement("span",null,"Page ",n.page," of ",S||1)),e&&React.createElement("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 mb-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement(m,{name:"alert-circle",className:"h-5 w-5 text-destructive flex-shrink-0"}),React.createElement("div",null,React.createElement("p",{className:"text-sm font-medium text-destructive"},"Failed to load documents"),React.createElement("p",{className:"text-xs text-muted-foreground mt-0.5"},e))),React.createElement("button",{onClick:r||i,className:"h-8 px-3 rounded-md bg-destructive/10 hover:bg-destructive/20 text-destructive text-sm font-medium transition-colors"},"Retry"))),React.createElement("div",{className:"relative"},s&&a.length>0&&React.createElement("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center z-10 rounded-lg"},React.createElement("div",{className:"flex items-center gap-2 bg-card px-4 py-2 rounded-full shadow-sm border"},React.createElement("svg",{className:"animate-spin h-4 w-4 text-primary",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})),React.createElement("span",{className:"text-sm text-muted-foreground"},"Refreshing..."))),s&&a.length===0&&!e?React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"flex items-center gap-2 mb-2"},React.createElement("svg",{className:"animate-spin h-4 w-4 text-primary",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})),React.createElement("span",{className:"text-sm text-muted-foreground"},"Loading documents...")),[1,2,3].map(g=>React.createElement("div",{key:g,className:"skeleton h-20 rounded-lg"}))):!s&&!e&&j.length===0?React.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},React.createElement("div",{className:"rounded-full bg-muted p-4 mb-4"},React.createElement(m,{name:u||N?"search-x":"folder-plus",className:"h-8 w-8 text-muted-foreground"})),React.createElement("h3",{className:"text-lg font-semibold"},u||N?"No matching documents":"No documents yet"),React.createElement("p",{className:"text-sm text-muted-foreground mt-1 mb-4"},u||N?"Try a different search term or clear your filters":"Get started by uploading your first document for this client"),!u&&!N&&y&&React.createElement("button",{onClick:y,className:"h-10 px-4 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 flex items-center gap-2"},React.createElement(m,{name:"upload",className:"h-4 w-4"}),"Upload Your First Document"),(u||N)&&React.createElement("button",{onClick:()=>{w(""),t("")},className:"h-10 px-4 rounded-md border border-input bg-background hover:bg-accent text-sm font-medium"},"Clear Filters")):!e&&React.createElement("div",{className:"space-y-2"},j.map(g=>React.createElement("div",{key:g.id,className:"group flex items-start gap-4 p-4 rounded-lg border bg-card hover:shadow-sm transition-all"},React.createElement("div",{className:"rounded-lg bg-muted p-2"},React.createElement(m,{name:"file-text",className:"h-5 w-5 text-muted-foreground"})),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("div",{className:"flex items-start justify-between gap-2"},React.createElement("h4",{className:"font-medium truncate"},g.title||"Untitled"),React.createElement("span",{className:`text-xs px-2 py-0.5 rounded-full ${M(g.source_type)}`},g.source_type?.replace(/_/g," ")||"general")),React.createElement("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground"},React.createElement("span",null,k(g.created_at)),React.createElement("span",null,"\u2022"),React.createElement("span",null,v(g.size))),g.tags&&g.tags.length>0&&React.createElement("div",{className:"flex flex-wrap gap-1 mt-2"},g.tags.slice(0,5).map((z,E)=>React.createElement("span",{key:E,className:"text-xs px-2 py-0.5 rounded-full bg-secondary text-secondary-foreground"},z)),g.tags.length>5&&React.createElement("span",{className:"text-xs text-muted-foreground"},"+",g.tags.length-5," more"))),React.createElement("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},React.createElement("button",{onClick:()=>l?.(g),className:"p-2 rounded-md hover:bg-muted",title:"View document"},React.createElement(m,{name:"eye",className:"h-4 w-4 text-muted-foreground"})),React.createElement("button",{onClick:()=>C?.(g,"json"),className:"p-2 rounded-md hover:bg-muted",title:"Export"},React.createElement(m,{name:"download",className:"h-4 w-4 text-muted-foreground"})),React.createElement("button",{onClick:()=>h(g),className:"p-2 rounded-md hover:bg-destructive/10",title:"Delete"},React.createElement(m,{name:"trash-2",className:"h-4 w-4 text-destructive"})))))))," ",S>1&&React.createElement("div",{className:"flex items-center justify-center gap-2"},React.createElement("button",{onClick:()=>c?.(n.page-1),disabled:n.page<=1,className:"h-8 w-8 rounded-md border border-input bg-background hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement(m,{name:"chevron-left",className:"h-4 w-4 mx-auto"})),Array.from({length:Math.min(5,S)},(g,z)=>{let E;return S<=5||n.page<=3?E=z+1:n.page>=S-2?E=S-4+z:E=n.page-2+z,React.createElement("button",{key:E,onClick:()=>c?.(E),className:`h-8 w-8 rounded-md text-sm font-medium ${E===n.page?"bg-primary text-primary-foreground":"border border-input bg-background hover:bg-accent"}`},E)}),React.createElement("button",{onClick:()=>c?.(n.page+1),disabled:n.page>=S,className:"h-8 w-8 rounded-md border border-input bg-background hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement(m,{name:"chevron-right",className:"h-4 w-4 mx-auto"}))),o&&React.createElement("div",{className:"fixed inset-0 z-50"},React.createElement("div",{className:"fixed inset-0 bg-black/80",onClick:()=>!D&&h(null)}),React.createElement("div",{className:"fixed inset-0 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-background rounded-lg shadow-lg max-w-md w-full p-6 animate-fade-in"},React.createElement("div",{className:"flex items-center gap-3 mb-4"},React.createElement("div",{className:"rounded-full bg-destructive/10 p-2"},React.createElement(m,{name:"alert-triangle",className:"h-5 w-5 text-destructive"})),React.createElement("h3",{className:"text-lg font-semibold"},"Delete Document")),React.createElement("p",{className:"text-sm text-muted-foreground mb-6"},"Are you sure you want to delete ",React.createElement("strong",null,'"',o.title,'"'),"? This action cannot be undone."),React.createElement("div",{className:"flex justify-end gap-2"},React.createElement("button",{onClick:()=>h(null),disabled:D,className:"h-10 px-4 rounded-md border border-input bg-background hover:bg-accent disabled:opacity-50"},"Cancel"),React.createElement("button",{onClick:()=>_(o),disabled:D,className:"h-10 px-4 rounded-md bg-destructive text-destructive-foreground hover:bg-destructive/90 disabled:opacity-50"},D?React.createElement("span",{className:"flex items-center gap-2"},React.createElement("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})),"Deleting..."):"Delete"))))))}var{useState:ae}=React,Se=[{value:"GENERAL",label:"General",description:"Search all documents"},{value:"STRATEGY",label:"Strategy",description:"Brand voice + past campaigns"},{value:"BRIEF",label:"Brief",description:"Product specs + brand voice"},{value:"VISUAL",label:"Visual",description:"Visual assets only"}];function pe({clientId:a,onSearch:s,results:e=[],loading:n=!1,error:c=null}){let[b,l]=ae(""),[C,i]=ae("GENERAL"),[r,y]=ae(5),u=t=>{t.preventDefault(),b.trim()&&a&&s?.(b,C,r)},w=t=>typeof t!="number"?"N/A":`${(t*100).toFixed(0)}%`,N=t=>t>=.8?"text-success":t>=.5?"text-yellow-600":"text-muted-foreground";return React.createElement("div",{className:"space-y-6"},React.createElement("form",{onSubmit:u,className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Search Query"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"text",value:b,onChange:t=>l(t.target.value),placeholder:"e.g., What is the brand voice for email campaigns?",className:"w-full h-12 pl-4 pr-12 rounded-lg border border-input bg-background text-base focus:outline-none focus:ring-2 focus:ring-ring",disabled:!a}),React.createElement("button",{type:"submit",disabled:!b.trim()||!a||n,className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},n?React.createElement("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})):React.createElement(m,{name:"search",className:"h-4 w-4"})))),React.createElement("div",{className:"flex flex-wrap gap-4"},React.createElement("div",{className:"flex-1 min-w-[200px]"},React.createElement("label",{className:"block text-sm font-medium mb-2"},"Search Phase"),React.createElement("select",{value:C,onChange:t=>i(t.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},Se.map(t=>React.createElement("option",{key:t.value,value:t.value},t.label," - ",t.description)))),React.createElement("div",{className:"w-32"},React.createElement("label",{className:"block text-sm font-medium mb-2"},"Results"),React.createElement("select",{value:r,onChange:t=>y(parseInt(t.target.value)),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},[3,5,10,15,20].map(t=>React.createElement("option",{key:t,value:t},"Top ",t)))))),c&&React.createElement("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4"},React.createElement("div",{className:"flex items-start gap-3"},React.createElement(m,{name:"alert-circle",className:"h-5 w-5 text-destructive mt-0.5"}),React.createElement("div",null,React.createElement("p",{className:"font-medium text-destructive"},"Search Error"),React.createElement("p",{className:"text-sm text-destructive/80 mt-1"},c)))),!a&&React.createElement("div",{className:"rounded-lg border border-yellow-500/50 bg-yellow-50 p-4"},React.createElement("div",{className:"flex items-start gap-3"},React.createElement(m,{name:"alert-triangle",className:"h-5 w-5 text-yellow-600 mt-0.5"}),React.createElement("div",null,React.createElement("p",{className:"font-medium text-yellow-700"},"No Client Selected"),React.createElement("p",{className:"text-sm text-yellow-600 mt-1"},"Please select a client to test intelligence search.")))),e.length>0&&React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-medium"},"Search Results"),React.createElement("span",{className:"text-sm text-muted-foreground"},e.length," results")),React.createElement("div",{className:"space-y-3"},e.map((t,o)=>React.createElement("div",{key:o,className:"rounded-lg border bg-card p-4 hover:shadow-sm transition-all"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary/10 text-primary text-xs font-medium"},o+1),React.createElement("span",{className:"text-sm font-medium"},t.metadata?.title||"Untitled Document")),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:`text-sm font-medium ${N(t.relevance_score)}`},w(t.relevance_score)),React.createElement("span",{className:"text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground"},t.metadata?.category||"general"))),React.createElement("div",{className:"bg-muted/50 rounded-md p-3"},React.createElement("p",{className:"text-sm text-foreground/80 whitespace-pre-wrap"},t.content?.length>500?`${t.content.slice(0,500)}...`:t.content||"No content available")),t.metadata&&React.createElement("div",{className:"flex flex-wrap gap-2 mt-3"},t.metadata.source&&React.createElement("span",{className:"text-xs text-muted-foreground"},"Source: ",t.metadata.source)))))),!n&&e.length===0&&b&&a&&React.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},React.createElement("div",{className:"rounded-full bg-muted p-4 mb-4"},React.createElement(m,{name:"search-x",className:"h-8 w-8 text-muted-foreground"})),React.createElement("h3",{className:"text-lg font-semibold"},"No results found"),React.createElement("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm"},"Try adjusting your search query or changing the search phase.")),!n&&e.length===0&&!b&&a&&React.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},React.createElement("div",{className:"rounded-full bg-muted p-4 mb-4"},React.createElement(m,{name:"sparkles",className:"h-8 w-8 text-muted-foreground"})),React.createElement("h3",{className:"text-lg font-semibold"},"Test Intelligence Hub"),React.createElement("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm"},"Enter a query above to search your indexed documents with AI-powered semantic search.")))}var{useState:L,useEffect:fe,useCallback:T,useRef:ve}=React;function se(a){let[s,e]=L([]),[n,c]=L(!1),[b,l]=L(null),C=T(async(r,y="GENERAL",u=5)=>{if(!a||!r.trim())return e([]),[];c(!0),l(null);try{let w=await fetch(`${window.RAG_CONFIG?.serviceUrl||""}/api/rag/search`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({client_id:a,query:r,phase:y,k:u})});if(!w.ok)throw new Error(`Search failed: ${w.status}`);let N=await w.json();return e(N),N}catch(w){return console.error("RAG Search Error:",w),l(w.message),e([]),[]}finally{c(!1)}},[a]),i=T(()=>{e([]),l(null)},[]);return{results:s,loading:n,error:b,search:C,clear:i}}function xe(a){let[s,e]=L([]),[n,c]=L(null),[b,l]=L(!1),[C,i]=L(null),[r,y]=L({page:1,limit:20,total:0}),u=ve(a),w=ve(null),N=window.RAG_CONFIG?.serviceUrl||"";fe(()=>{u.current=a},[a]);let t=T(async(v,M=1,_=20,S)=>{if(!v)return null;let g=await fetch(`${N}/api/documents/${v}?page=${M}&limit=${_}`,{signal:S,credentials:"include"});if(!g.ok)throw new Error(`Failed to fetch documents: ${g.status}`);return g.json()},[N]),o=T(async(v,M)=>{if(!v)return null;let _=await fetch(`${N}/api/stats/${v}`,{signal:M,credentials:"include"});return _.ok?_.json():null},[N]),h=T(async(v=1,M=20)=>{let _=u.current;if(_){l(!0),i(null);try{let S=await t(_,v,M);u.current===_&&S&&(e(S.documents||[]),y({page:S.page||v,limit:S.limit||M,total:S.total||0}))}catch(S){S.name!=="AbortError"&&(console.error("Document Fetch Error:",S),u.current===_&&i(S.message))}finally{u.current===_&&l(!1)}}},[t]),D=T(async()=>{let v=u.current;if(v)try{let M=await o(v);u.current===v&&M&&c(M)}catch(M){M.name!=="AbortError"&&console.error("Stats Fetch Error:",M)}},[o]),x=T(async v=>{let M=u.current;if(!M)return!1;try{if(!(await fetch(`${N}/api/documents/${M}/${v}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Delete failed");return await h(r.page,r.limit),await D(),!0}catch(_){return i(_.message),!1}},[N,r,h,D]);fe(()=>{if(w.current&&w.current.abort(),e([]),c(null),i(null),y({page:1,limit:20,total:0}),!a){l(!1);return}let v=new AbortController;return w.current=v,(async()=>{l(!0),i(null);try{let[_,S]=await Promise.all([t(a,1,20,v.signal),o(a,v.signal)]);v.signal.aborted||(_&&(e(_.documents||[]),y({page:_.page||1,limit:_.limit||20,total:_.total||0})),S&&c(S))}catch(_){_.name!=="AbortError"&&!v.signal.aborted&&(console.error("Client Data Load Error:",_),i(_.message))}finally{v.signal.aborted||l(!1)}})(),()=>{v.abort()}},[a,t,o]);let j=T(()=>{h(r.page,r.limit),D()},[h,D,r]),k=T(()=>{i(null),h(1,20),D()},[h,D]);return{documents:s,stats:n,loading:b,error:C,pagination:r,fetchDocuments:h,fetchStats:D,deleteDocument:x,refresh:j,retry:k}}function be(a){let[s,e]=L(!1),[n,c]=L(0),[b,l]=L(null),[C,i]=L([]),r=window.RAG_CONFIG?.serviceUrl||"",y=T(async(t,o={})=>{if(!a||t.length===0)return[];e(!0),c(0),l(null),i([]);let h=[],D=t.length;for(let x=0;x<t.length;x++){let j=t[x],k=new FormData;k.append("file",j),o.title&&k.append("title",o.title||j.name),o.source_type&&!o.auto_categorize&&k.append("source_type",o.source_type),o.tags&&k.append("tags",o.tags),k.append("auto_categorize",o.auto_categorize!==!1?"true":"false");try{let v=await fetch(`${r}/api/documents/${a}/upload`,{method:"POST",body:k,credentials:"include"}),M=await v.json();h.push({file:j.name,success:v.ok,data:M,error:v.ok?null:M.detail,categorization:M.categorization||null})}catch(v){h.push({file:j.name,success:!1,error:v.message})}c(Math.round((x+1)/D*100))}return i(h),e(!1),h},[a,r]),u=T(async(t,o={})=>{if(!a||!t.trim())return null;e(!0),l(null);try{let h=new FormData;h.append("content",t),h.append("title",o.title||"Text Document"),o.source_type&&!o.auto_categorize&&h.append("source_type",o.source_type),h.append("tags",o.tags||""),h.append("auto_categorize",o.auto_categorize!==!1?"true":"false");let D=await fetch(`${r}/api/documents/${a}/text`,{method:"POST",body:h,credentials:"include"}),x=await D.json();return e(!1),D.ok?x:(l(x.detail||"Upload failed"),null)}catch(h){return l(h.message),e(!1),null}},[a,r]),w=T(async(t,o={})=>(l("URL upload not available in standalone mode"),null),[a,r]),N=T(()=>{c(0),l(null),i([])},[]);return{uploading:s,progress:n,error:b,results:C,uploadFiles:y,uploadText:u,uploadUrl:w,reset:N}}function he(){let[a,s]=L([]),e=T((i,r="info",y=5e3)=>{let u=Date.now();return s(w=>[...w,{id:u,message:i,type:r,duration:y}]),y>0&&setTimeout(()=>{s(w=>w.filter(N=>N.id!==u))},y),u},[]),n=T(i=>{s(r=>r.filter(y=>y.id!==i))},[]),c=T((i,r)=>e(i,"success",r),[e]),b=T((i,r)=>e(i,"error",r),[e]),l=T((i,r)=>e(i,"warning",r),[e]),C=T((i,r)=>e(i,"info",r),[e]);return{toasts:a,addToast:e,removeToast:n,success:c,error:b,warning:l,info:C}}var{useState:at,useEffect:st,useCallback:rt}=React;var{useState:$e,useEffect:De}=React;function ye({clientId:a}){let[s,e]=$e(null);return De(()=>{(()=>{window.Clerk?.user?e({name:window.Clerk.user.fullName,email:window.Clerk.user.primaryEmailAddress?.emailAddress,image:window.Clerk.user.imageUrl}):e({name:"Guest User",email:"guest@emailpilot.ai",image:null})})()},[]),React.createElement("div",{className:"space-y-6 max-w-4xl mx-auto"},React.createElement("div",{className:"flex items-center gap-4 mb-8"},React.createElement("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border-2 border-background shadow-sm"},s?.image?React.createElement("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover"}):React.createElement(m,{name:"user",className:"h-8 w-8 text-primary"})),React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold"},s?.name),React.createElement("p",{className:"text-muted-foreground"},s?.email))),React.createElement("div",null,React.createElement("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2"},React.createElement(m,{name:"grid",className:"h-5 w-5"}),"Integrations"),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement(K,{className:"opacity-75"},React.createElement(ne,null,React.createElement("div",{className:"flex items-start justify-between"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400"},React.createElement(m,{name:"file-text",className:"h-6 w-6"})),React.createElement("div",null,React.createElement(oe,{className:"text-lg"},"Google Docs Import"),React.createElement(le,{className:"mt-1"},"Import documents directly from Google Drive"))),React.createElement(V,{variant:"success"},"Active"))),React.createElement(Z,null,React.createElement("p",{className:"text-sm text-muted-foreground"},'This integration is active. You can import documents via the "Upload" tab.'))))))}var{useState:R,useEffect:Ne,useCallback:G}=React;window.RAG_CONFIG=window.RAG_CONFIG||{serviceUrl:window.location.origin,orchestratorUrl:""};var Ae=[{value:"brand_voice",label:"Brand Voice"},{value:"brand_guidelines",label:"Brand Guidelines"},{value:"content_pillars",label:"Content Pillars"},{value:"marketing_strategy",label:"Marketing Strategy"},{value:"product",label:"Product Catalog"},{value:"target_audience",label:"Target Audience"},{value:"past_campaign",label:"Campaign History"},{value:"seasonal_themes",label:"Seasonal Themes"},{value:"general",label:"General"}];function Te({value:a,onChange:s,clients:e,loading:n,onRefresh:c}){let[b,l]=R(!1),C=e.find(r=>r.client_id===a);Ne(()=>{let r=y=>{y.target.closest(".client-selector-dropdown")||l(!1)};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[]);let i=r=>{switch(r?.toUpperCase()){case"LIVE":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"ONBOARDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"INACTIVE":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}};return React.createElement("div",{className:"relative client-selector-dropdown"},React.createElement("button",{onClick:r=>{r.stopPropagation(),l(!b)},disabled:n,className:"w-full h-10 pl-3 pr-10 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring flex items-center gap-2 text-left"},React.createElement(m,{name:n?"refresh-cw":"building-2",className:`h-4 w-4 text-muted-foreground flex-shrink-0 ${n?"animate-spin":""}`}),n?React.createElement("span",{className:"text-muted-foreground"},"Loading clients..."):C?React.createElement("div",{className:"flex items-center gap-2 min-w-0 flex-1"},React.createElement("span",{className:"truncate"},C.name),C.status&&React.createElement("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${i(C.status)}`},C.status)):React.createElement("span",{className:"text-muted-foreground"},"Select a client..."),React.createElement(m,{name:"chevron-down",className:`absolute right-3 h-4 w-4 text-muted-foreground transition-transform ${b?"rotate-180":""}`})),b&&React.createElement("div",{className:"absolute z-50 mt-1 w-full min-w-[320px] max-h-[400px] overflow-auto rounded-md border border-input bg-background shadow-lg"},React.createElement("div",{className:"p-2 border-b border-input bg-muted/50"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-xs font-medium text-muted-foreground"},e.length," Live Client",e.length!==1?"s":""),React.createElement("button",{onClick:r=>{r.stopPropagation(),c()},disabled:n,className:"p-1 hover:bg-accent rounded",title:"Refresh clients"},React.createElement(m,{name:"refresh-cw",className:`h-3 w-3 ${n?"animate-spin":""}`})))),React.createElement("div",{className:"py-1"},e.length===0?React.createElement("div",{className:"px-3 py-4 text-center text-sm text-muted-foreground"},n?"Loading clients...":"No clients available"):e.map(r=>React.createElement("button",{key:r.client_id,onClick:y=>{y.stopPropagation(),s(r.client_id),l(!1)},className:`w-full px-3 py-2 text-left hover:bg-accent flex items-start gap-3 ${a===r.client_id?"bg-accent":""}`},React.createElement("div",{className:"flex-shrink-0 mt-0.5"},React.createElement("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center"},React.createElement("span",{className:"text-xs font-semibold text-primary"},(r.name||r.client_id).substring(0,2).toUpperCase()))),React.createElement("div",{className:"flex-1 min-w-0"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-medium text-sm truncate"},r.name||r.client_id),r.status&&React.createElement("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded flex-shrink-0 ${i(r.status)}`},r.status)),React.createElement("div",{className:"flex items-center gap-2 mt-0.5"},r.industry&&React.createElement("span",{className:"text-xs text-muted-foreground"},r.industry),r.document_count>0&&React.createElement("span",{className:"text-xs text-muted-foreground"},"\u2022 ",r.document_count," doc",r.document_count!==1?"s":""))),a===r.client_id&&React.createElement(m,{name:"check",className:"h-4 w-4 text-primary flex-shrink-0 mt-1"}))))))}function ze(){let[a,s]=R("upload"),[e,n]=R(""),[c,b]=R([]),[l,C]=R(!1),[i,r]=R({title:"",source_type:"general",tags:"",auto_categorize:!0}),[y,u]=R(null),[w,N]=R(null),[t,o]=R(null),[h,D]=R(!1),x=he(),j=se(e),k=xe(e),v=be(e),M=G(async()=>{C(!0);try{let f=await fetch(`${window.RAG_CONFIG?.serviceUrl||""}/api/clients`);if(f.ok){let p=await f.json();b(p.clients||[])}else console.error("Failed to fetch clients:",f.status)}catch(f){console.error("Failed to fetch clients:",f)}finally{C(!1)}},[]),_=G(f=>{n(f);let p=c.find(A=>A.client_id===f);p&&x.success(`Switched to ${p.name}`)},[c,x]);Ne(()=>{M()},[]);let S=G(async f=>{if(!e){x.error("Please select a client first");return}u(null);let p=await v.uploadFiles(f,i),A=p.filter(I=>I.success).length,P=p.filter(I=>!I.success).length;if(A>0){let I=p.filter(U=>U.categorization?.method==="llm");if(I.length>0){let U=I[0].categorization;u(U),x.success(`${A} file(s) uploaded! AI categorized as: ${U.category}`)}else x.success(`${A} file(s) uploaded successfully`)}P>0&&x.error(`${P} file(s) failed to upload`),k.refresh()},[e,i,v,x,k]),g=G(async f=>{if(!e){x.error("Please select a client first");return}u(null);let p=await v.uploadText(f,i);p?(p.categorization?.method==="llm"?(u(p.categorization),x.success(`Text uploaded! AI categorized as: ${p.categorization.category}`)):x.success("Text content uploaded successfully"),k.refresh()):x.error(v.error||"Failed to upload text")},[e,i,v,x,k]),z=G(async f=>{N(f),o(null),D(!0);try{let p=await fetch(`${window.RAG_CONFIG?.serviceUrl||""}/api/documents/${e}/${f.id}`);if(p.ok){let A=await p.json();o(A)}else{let A=await p.json();x.error(A.detail||"Failed to load document"),N(null)}}catch(p){console.error("Failed to fetch document:",p),x.error("Failed to load document content"),N(null)}finally{D(!1)}},[e,x]),E=G(()=>{N(null),o(null)},[]),d=G(async(f,p)=>{x.info(`Exporting ${f.title} as ${p}...`)},[x]),$=G((f,p,A)=>{j.search(f,p,A)},[j]);return React.createElement("div",{className:"bg-background"},React.createElement("div",{className:"bg-white border-b border-gray-200 px-6 py-4"},React.createElement("div",{className:"max-w-6xl mx-auto flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"w-72"},React.createElement(Te,{value:e,onChange:_,clients:c,loading:l,onRefresh:M})),React.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-50 text-green-700 text-sm border border-green-200"},React.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),React.createElement("span",{className:"font-medium"},"Connected"))),React.createElement("button",{onClick:()=>s("user"),className:`p-2 rounded-md transition-colors ${a==="user"?"bg-blue-50 text-blue-600":"hover:bg-gray-100 text-gray-600"}`,title:"User Manager & Settings"},React.createElement(m,{name:"settings",className:"h-5 w-5"})))),React.createElement("main",{className:"p-8"},React.createElement("div",{className:"max-w-6xl mx-auto"},e&&k.stats&&React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},React.createElement("div",{className:"ep-card ep-shadow-none bg-white p-6 rounded-xl border border-gray-100"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider"},"Documents"),React.createElement("div",{className:"p-2 bg-blue-50 rounded-lg"},React.createElement(m,{name:"file-text",className:"h-5 w-5 text-blue-600"}))),React.createElement("div",{className:"text-3xl font-black text-gray-900"},k.stats.document_count||0),React.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Total documents indexed")),React.createElement("div",{className:"ep-card ep-shadow-none bg-white p-6 rounded-xl border border-gray-100"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider"},"Characters"),React.createElement("div",{className:"p-2 bg-purple-50 rounded-lg"},React.createElement(m,{name:"text",className:"h-5 w-5 text-purple-600"}))),React.createElement("div",{className:"text-3xl font-black text-gray-900"},((k.stats.total_characters||0)/1e3).toFixed(1),"k"),React.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Total content size")),React.createElement("div",{className:"ep-card ep-shadow-none bg-white p-6 rounded-xl border border-gray-100"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider"},"Vector Status"),React.createElement("div",{className:`p-2 rounded-lg ${k.stats.vector_enabled?"bg-green-50":"bg-gray-50"}`},React.createElement(m,{name:"database",className:`h-5 w-5 ${k.stats.vector_enabled?"text-green-600":"text-gray-400"}`}))),React.createElement("div",{className:"text-3xl font-black text-gray-900"},k.stats.vector_enabled?"Active":"Inactive"),React.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Semantic search ",k.stats.vector_enabled?"enabled":"disabled"))),React.createElement("div",{className:"bg-white rounded-xl border border-gray-100 p-6"},React.createElement(ie,{value:a,onValueChange:s},React.createElement(ce,{className:"mb-6"},React.createElement(O,{value:"upload"},React.createElement(m,{name:"upload-cloud",className:"h-4 w-4 mr-2"}),"Upload"),React.createElement(O,{value:"library"},React.createElement(m,{name:"library",className:"h-4 w-4 mr-2"}),"Library"),React.createElement(O,{value:"search"},React.createElement(m,{name:"sparkles",className:"h-4 w-4 mr-2"}),"Search"),React.createElement(O,{value:"grading"},React.createElement(m,{name:"bar-chart-3",className:"h-4 w-4 mr-2"}),"Intelligence Grade"),React.createElement(O,{value:"user"},React.createElement(m,{name:"settings",className:"h-4 w-4 mr-2"}),"Settings")),React.createElement(B,{value:"upload"},e?React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:`rounded-lg p-4 border ${i.auto_categorize?"bg-primary/5 border-primary/20":"bg-muted border-muted"}`},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:`rounded-full p-2 ${i.auto_categorize?"bg-primary/10":"bg-muted"}`},React.createElement(m,{name:"sparkles",className:`h-5 w-5 ${i.auto_categorize?"text-primary":"text-muted-foreground"}`})),React.createElement("div",null,React.createElement("h4",{className:"text-sm font-medium"},"AI Auto-Categorization"),React.createElement("p",{className:"text-xs text-muted-foreground"},i.auto_categorize?"Claude will analyze content and assign the best category + keywords":"Using manual category selection"))),React.createElement("button",{onClick:()=>r(f=>({...f,auto_categorize:!f.auto_categorize})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.auto_categorize?"bg-primary":"bg-muted"}`},React.createElement("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.auto_categorize?"translate-x-6":"translate-x-1"}`})))),y&&React.createElement("div",{className:"rounded-lg p-4 bg-success/10 border border-success/20"},React.createElement("div",{className:"flex items-start gap-3"},React.createElement(m,{name:"check-circle",className:"h-5 w-5 text-success mt-0.5"}),React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"text-sm font-medium text-success"},"AI Categorization Result"),React.createElement("div",{className:"mt-2 space-y-1"},React.createElement("p",{className:"text-sm"},React.createElement("span",{className:"text-muted-foreground"},"Category:")," ",React.createElement("span",{className:"font-medium capitalize"},y.category?.replace(/_/g," "))),React.createElement("p",{className:"text-sm"},React.createElement("span",{className:"text-muted-foreground"},"Confidence:")," ",React.createElement("span",{className:"font-medium"},Math.round((y.confidence||0)*100),"%")),y.keywords?.length>0&&React.createElement("div",{className:"mt-2"},React.createElement("span",{className:"text-xs text-muted-foreground"},"Keywords:"),React.createElement("div",{className:"flex flex-wrap gap-1 mt-1"},y.keywords.map((f,p)=>React.createElement("span",{key:p,className:"text-xs px-2 py-0.5 bg-muted rounded-full"},f)))))),React.createElement("button",{onClick:()=>u(null),className:"p-1 hover:bg-muted rounded"},React.createElement(m,{name:"x",className:"h-4 w-4 text-muted-foreground"})))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Document Title"),React.createElement(W,{value:i.title,onChange:f=>r(p=>({...p,title:f.target.value})),placeholder:"Enter title..."})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Source Type",i.auto_categorize&&React.createElement("span",{className:"ml-2 text-xs text-primary font-normal"},"(AI will override)")),React.createElement(re,{value:i.source_type,onChange:f=>r(p=>({...p,source_type:f.target.value})),disabled:i.auto_categorize,className:i.auto_categorize?"opacity-50":""},Ae.map(f=>React.createElement("option",{key:f.value,value:f.value},f.label)))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Tags"),React.createElement(W,{value:i.tags,onChange:f=>r(p=>({...p,tags:f.target.value})),placeholder:i.auto_categorize?"AI will generate keywords":"tag1, tag2, tag3"}))),React.createElement(ue,{onFilesSelected:f=>console.log("Selected:",f.length),onUpload:S,uploading:v.uploading,progress:v.progress,maxFiles:10}),React.createElement("div",{className:"border-t pt-6"},React.createElement("h4",{className:"text-sm font-medium mb-3"},"Or paste text content directly"),React.createElement(je,{onUpload:g,uploading:v.uploading}))):React.createElement(X,{icon:"user-x",title:"No Client Selected",description:"Please select a client from the dropdown above to start uploading documents."})),React.createElement(B,{value:"library"},e?React.createElement(ge,{documents:k.documents,loading:k.loading,error:k.error,pagination:k.pagination,onPageChange:f=>k.fetchDocuments(f),onDelete:k.deleteDocument,onView:z,onExport:d,onRefresh:k.refresh,onRetry:k.retry,onSwitchToUpload:()=>s("upload")}):React.createElement(X,{icon:"user-x",title:"No Client Selected",description:"Please select a client from the dropdown above to browse documents."})),React.createElement(B,{value:"search"},React.createElement(pe,{clientId:e,results:j.results,loading:j.loading,error:j.error,onSearch:$})),React.createElement(B,{value:"grading"},React.createElement(Ee,{clientId:e,toast:x})),React.createElement(B,{value:"user"},React.createElement(ye,{clientId:e})))))),React.createElement(de,{toasts:x.toasts,onRemove:x.removeToast}),w&&React.createElement("div",{className:"fixed inset-0 z-50"},React.createElement("div",{className:"fixed inset-0 bg-black/80",onClick:E}),React.createElement("div",{className:"fixed inset-0 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-background rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] flex flex-col animate-fade-in"},React.createElement("div",{className:"flex items-center justify-between p-4 border-b"},React.createElement("div",{className:"flex items-center gap-3 min-w-0"},React.createElement("div",{className:"rounded-lg bg-muted p-2"},React.createElement(m,{name:"file-text",className:"h-5 w-5 text-muted-foreground"})),React.createElement("div",{className:"min-w-0"},React.createElement("h3",{className:"text-lg font-semibold truncate"},w.title||"Untitled Document"),React.createElement("div",{className:"flex items-center gap-2 text-sm text-muted-foreground"},React.createElement("span",{className:"capitalize"},w.source_type?.replace(/_/g," ")||"general"),t?.size&&React.createElement(React.Fragment,null,React.createElement("span",null,"\u2022"),React.createElement("span",null,t.size.toLocaleString()," characters"))))),React.createElement("button",{onClick:E,className:"p-2 rounded-md hover:bg-muted"},React.createElement(m,{name:"x",className:"h-5 w-5"}))),React.createElement("div",{className:"flex-1 overflow-auto p-4"},h?React.createElement("div",{className:"flex items-center justify-center py-12"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("svg",{className:"animate-spin h-5 w-5 text-primary",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})),React.createElement("span",{className:"text-muted-foreground"},"Loading document content..."))):t?.content?React.createElement("div",{className:"bg-muted/30 rounded-lg p-4"},React.createElement("pre",{className:"whitespace-pre-wrap text-sm font-mono leading-relaxed"},t.content)):React.createElement("div",{className:"flex items-center justify-center py-12 text-muted-foreground"},"No content available")),React.createElement("div",{className:"flex items-center justify-between p-4 border-t bg-muted/30"},React.createElement("div",{className:"text-xs text-muted-foreground"},t?.source&&React.createElement("span",null,"Source: ",t.source)),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{onClick:()=>{t?.content&&(navigator.clipboard.writeText(t.content),x.success("Content copied to clipboard"))},disabled:!t?.content,className:"h-9 px-4 rounded-md border border-input bg-background hover:bg-accent text-sm font-medium disabled:opacity-50"},"Copy Content"),React.createElement("button",{onClick:E,className:"h-9 px-4 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 text-sm font-medium"},"Close")))))))}function Ee({clientId:a,toast:s}){let[e,n]=R(!1),[c,b]=R(!1),[l,C]=R(null),[i,r]=R(null),y=async()=>{if(!a){s.error("Please select a client first");return}n(!0),r(null);try{let t=await fetch(`${window.RAG_CONFIG?.serviceUrl||""}/api/intelligence/grade/${a}`);if(!t.ok){let h=await t.json();throw new Error(h.detail||"Failed to grade intelligence")}let o=await t.json();C(o),s.success(`Intelligence Grade: ${o.overall_grade} (${o.overall_score}%)`)}catch(t){console.error("Intelligence grading failed:",t),r(t.message),s.error(t.message||"Failed to analyze intelligence")}finally{n(!1)}},u=async()=>{if(!a){s.error("Please select a client first");return}b(!0),r(null);try{let t=await fetch(`${window.RAG_CONFIG?.serviceUrl||""}/api/intelligence/quick-assessment/${a}`);if(!t.ok){let h=await t.json();throw new Error(h.detail||"Failed to assess intelligence")}let o=await t.json();C({...o,overall_grade:o.estimated_grade,overall_score:o.estimated_score,is_quick_assessment:!0}),s.info(`Quick Assessment: ${o.estimated_grade} (${o.estimated_score}%)`)}catch(t){console.error("Quick assessment failed:",t),r(t.message),s.error(t.message||"Failed to assess intelligence")}finally{b(!1)}},w=t=>{switch(t){case"A":return"text-green-600 bg-green-50 border-green-200";case"B":return"text-blue-600 bg-blue-50 border-blue-200";case"C":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"D":return"text-orange-600 bg-orange-50 border-orange-200";case"F":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},N=t=>{switch(t){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return a?React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement(H,{onClick:y,disabled:e||c,loading:e,className:"gap-2"},React.createElement(m,{name:"sparkles",className:"h-4 w-4"}),"Run Full Analysis"),React.createElement(H,{onClick:u,disabled:e||c,loading:c,variant:"outline",className:"gap-2"},React.createElement(m,{name:"zap",className:"h-4 w-4"}),"Quick Assessment"),React.createElement("span",{className:"text-sm text-muted-foreground"},"Full analysis uses AI, quick uses keyword matching")),i&&React.createElement(Q,{variant:"destructive"},React.createElement(m,{name:"alert-circle",className:"h-4 w-4"}),React.createElement(J,null,"Analysis Failed"),React.createElement(q,null,i)),l&&React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},React.createElement("div",{className:`p-6 rounded-xl border-2 ${w(l.overall_grade)} text-center`},React.createElement("div",{className:"text-6xl font-black"},l.overall_grade),React.createElement("div",{className:"text-lg font-medium mt-1"},l.overall_score,"%"),React.createElement("div",{className:"text-sm opacity-75 mt-1"},l.is_quick_assessment?"Estimated Grade":"Overall Grade")),React.createElement("div",{className:"p-6 rounded-xl border border-gray-200 bg-white"},React.createElement("div",{className:"text-sm text-gray-500 mb-1"},"Documents Analyzed"),React.createElement("div",{className:"text-3xl font-bold"},l.documents_analyzed||0)),React.createElement("div",{className:"p-6 rounded-xl border border-gray-200 bg-white"},React.createElement("div",{className:"text-sm text-gray-500 mb-1"},"Fields Found"),React.createElement("div",{className:"text-3xl font-bold"},l.fields_found||0,React.createElement("span",{className:"text-lg font-normal text-gray-400"},"/",l.total_fields||0))),React.createElement("div",{className:"p-6 rounded-xl border border-gray-200 bg-white"},React.createElement("div",{className:"text-sm text-gray-500 mb-1"},"Ready for Generation"),React.createElement("div",{className:`text-3xl font-bold ${l.ready_for_generation?"text-green-600":"text-red-600"}`},l.ready_for_generation?"Yes":"No"))),l.is_quick_assessment&&React.createElement(Q,null,React.createElement(m,{name:"info",className:"h-4 w-4"}),React.createElement(J,null,"Quick Assessment"),React.createElement(q,null,l.note||"This is a keyword-based estimate. Run Full Analysis for AI-powered detailed grading.")),l.generation_warnings?.length>0&&React.createElement(Q,{variant:"warning"},React.createElement(m,{name:"alert-triangle",className:"h-4 w-4"}),React.createElement(J,null,"Generation Warnings"),React.createElement(q,null,React.createElement("ul",{className:"list-disc list-inside mt-2 space-y-1"},l.generation_warnings.map((t,o)=>React.createElement("li",{key:o},t))))),l.dimension_scores&&Object.keys(l.dimension_scores).length>0&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold"},"Dimension Scores"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},Object.entries(l.dimension_scores).map(([t,o])=>React.createElement("div",{key:t,className:"p-4 rounded-lg border border-gray-200 bg-white"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-medium"},o.display_name),React.createElement("span",{className:`px-2 py-0.5 rounded text-sm font-bold ${w(o.grade)}`},o.grade," (",o.score,"%)")),React.createElement(ee,{value:o.score,className:"h-2"}),React.createElement("div",{className:"mt-2 text-xs text-gray-500"},"Weight: ",(o.weight*100).toFixed(0),"% | Points: ",o.earned_points,"/",o.max_points))))),l.critical_gaps?.length>0&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold text-red-600"},"Critical Gaps (",l.critical_gaps.length,")"),React.createElement("div",{className:"space-y-3"},l.critical_gaps.map((t,o)=>React.createElement("div",{key:o,className:"p-4 rounded-lg border border-red-200 bg-red-50"},React.createElement("div",{className:"flex items-start justify-between gap-4"},React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"flex items-center gap-2 mb-1"},React.createElement("span",{className:"font-medium"},t.display_name),React.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${N(t.importance)}`},t.importance)),React.createElement("p",{className:"text-sm text-gray-600"},t.impact),React.createElement("p",{className:"text-sm text-blue-600 mt-1"},t.suggestion)),React.createElement("div",{className:"text-right text-sm"},React.createElement("div",{className:"text-gray-500"},t.dimension),React.createElement("div",{className:"text-green-600 font-medium"},"+",t.expected_improvement,"%"))),t.quick_capture_prompt&&React.createElement("div",{className:"mt-3 p-3 rounded bg-white border border-gray-200"},React.createElement("div",{className:"text-xs text-gray-500 mb-1"},"Quick Capture Question:"),React.createElement("div",{className:"text-sm italic"},t.quick_capture_prompt)))))),l.recommendations?.length>0&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold"},"Top Recommendations"),React.createElement("div",{className:"space-y-3"},l.recommendations.map((t,o)=>React.createElement("div",{key:o,className:"p-4 rounded-lg border border-gray-200 bg-white flex items-start gap-4"},React.createElement("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold"},t.priority),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"font-medium"},t.action),React.createElement("div",{className:"text-sm text-gray-500 mt-1"},t.dimension," \u2022 Expected improvement: +",t.expected_improvement,"%")),t.template_available&&React.createElement(V,{variant:"secondary"},"Template Available"))))),l.dimension_summaries&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold"},"Dimension Coverage"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},Object.entries(l.dimension_summaries).map(([t,o])=>React.createElement("div",{key:t,className:"p-4 rounded-lg border border-gray-200 bg-white"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-medium"},o.display_name),React.createElement("span",{className:"text-sm text-gray-500"},o.fields_found,"/",o.total_fields," fields")),React.createElement(ee,{value:o.coverage,className:"h-2"}),React.createElement("div",{className:"mt-1 text-xs text-gray-500 text-right"},o.coverage,"% coverage")))))),!l&&!e&&!c&&!i&&React.createElement("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-xl"},React.createElement(m,{name:"bar-chart-3",className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),React.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"Intelligence Gap Analysis"),React.createElement("p",{className:"text-gray-500 max-w-md mx-auto mb-6"},"Analyze your client's knowledge base to identify gaps and get a grade indicating readiness for high-quality email calendar generation."),React.createElement("div",{className:"text-sm text-gray-400"},'Click "Run Full Analysis" or "Quick Assessment" above to begin'))):React.createElement(X,{icon:"user-x",title:"No Client Selected",description:"Please select a client from the dropdown above to analyze their intelligence."})}function je({onUpload:a,uploading:s}){let[e,n]=R(""),c=()=>{e.trim()&&(a(e),n(""))};return React.createElement("div",{className:"space-y-3"},React.createElement("textarea",{value:e,onChange:b=>n(b.target.value),placeholder:"Paste your text content here...",className:"w-full min-h-[120px] rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-y",disabled:s}),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-xs text-muted-foreground"},e.length.toLocaleString()," characters"),React.createElement(H,{onClick:c,disabled:!e.trim()||s,loading:s},"Upload Text")))}var Re=document.getElementById("root"),Le=ReactDOM.createRoot(Re);Le.render(React.createElement(ze,null));})();
